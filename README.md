Rewrited to learn

origin: https://github.dev/curveball/core
